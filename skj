#!/usr/bin/env python3
# SPDX-FileCopyrightText: 2025 hakozaki teruki
# SPDX-License-Identifier: BSD-3-Clause

import sys
import datetime

DAYS = [
    "monday", "tuesday", "wednesday",
    "thursday", "friday", "saturday", "sunday"
]

def parse_schedule(text):
    schedule = {}
    current = None

    for line in text.splitlines():
        line = line.rstrip()
        if not line:
            continue
        if line in DAYS:
            current = line
            schedule[current] = []
        elif current:
            schedule[current].append(line)

    return schedule

def print_day(schedule, day):
    for line in schedule.get(day, []):
        print(line)

def print_week(schedule):
    for d in DAYS:
        print(d)
        for line in schedule.get(d, []):
            print(f"  {line}")

def main():
    schedule_text = sys.stdin.read()
    if not schedule_text.strip():
        return 1

    schedule = parse_schedule(schedule_text)

    # 引数処理
    if len(sys.argv) == 1:
        # 今日
        day = datetime.datetime.today().strftime("%A").lower()
    else:
        day = sys.argv[1].lower()

    if day == "week":
        print_week(schedule)
        return 0

    if day in DAYS:
        print_day(schedule, day)
        return 0

    return 1


if __name__ == "__main__":
    sys.exit(main())
